@model AMIProjectView.Models.TariffSlabVm
@{
    Layout = "_DashboardLayout";
    ViewData["Title"] = "Edit Slab - " + Model.SlabId;
}

<div class="card p-4" style="max-width:820px; margin:0 auto;">
    <h4 class="mb-3">Edit Slab - @Model.SlabId</h4>

    @if (TempData["err"] != null)
    {
        <div class="alert alert-danger">@TempData["err"]</div>
    }

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger">
            <ul class="mb-0">
                @foreach (var err in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <li>@err.ErrorMessage</li>
                }
            </ul>
        </div>
    }

    <form asp-action="Edit" method="post" class="row g-3">
        @Html.AntiForgeryToken()

        <input asp-for="SlabId" type="hidden" />
        <input asp-for="TariffId" type="hidden" />

        <div class="col-md-4">
            <label class="form-label">From (kWh)</label>
            <input asp-for="FromKwh" class="form-control" />
            <span asp-validation-for="FromKwh" class="text-danger"></span>
        </div>
        <div class="col-md-4">
            <label class="form-label">To (kWh)</label>
            <input asp-for="ToKwh" class="form-control" />
            <span asp-validation-for="ToKwh" class="text-danger"></span>
        </div>
        <div class="col-md-4">
            <label class="form-label">Rate per kWh</label>
            <input asp-for="RatePerKwh" class="form-control" />
            <span asp-validation-for="RatePerKwh" class="text-danger"></span>
        </div>

        <div class="col-12">
            <button class="btn btn-primary">Save</button>
            <a asp-action="Index" asp-route-tariffId="@Model.TariffId" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
